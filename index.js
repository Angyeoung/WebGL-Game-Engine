var a=class o{x;y;z;constructor(t,e,r){this.x=t,this.y=e,this.z=r}static get zero(){return new o(0,0,0)}static get one(){return new o(1,1,1)}static get up(){return new o(0,1,0)}static get down(){return new o(0,-1,0)}static get right(){return new o(1,0,0)}static get left(){return new o(-1,0,0)}static get forward(){return new o(0,0,1)}static get back(){return new o(0,0,-1)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}static copy(t,e){return e=e||new o(0,0,0),e.x=t.x,e.y=t.y,e.z=t.z,e}static transform(t,e,r){r=r||new o(0,0,0);let n=t.x*e[0]+t.y*e[4]+t.z*e[8]+e[12],i=t.x*e[1]+t.y*e[5]+t.z*e[9]+e[13],s=t.x*e[2]+t.y*e[6]+t.z*e[10]+e[14],c=t.x*e[3]+t.y*e[7]+t.z*e[11]+e[15];return r.x=n/c,r.y=i/c,r.z=s/c,r}static cross(t,e,r){r=r||new o(0,0,0);let n=t.z*e.x-t.x*e.z,i=t.x*e.y-t.y*e.x;return r.x=t.y*e.z-t.z*e.y,r.y=n,r.z=i,r}static dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}static equals(t,e){return!(t.x!==e.x||t.y!==e.y||t.z!==e.z)}static sub(t,e,r){return r=r||new o(0,0,0),r.x=t.x-e.x,r.y=t.y-e.y,r.z=t.z-e.z,r}static add(t,e,r){return r=r||new o(0,0,0),r.x=t.x+e.x,r.y=t.y+e.y,r.z=t.z+e.z,r}static scale(t,e,r){return r=r||new o(0,0,0),r.x=t.x*e,r.y=t.y*e,r.z=t.z*e,r}static normalize(t,e){e=e||new o(0,0,0);let r=t.magnitude;if(r===0)return e;let n=1/r;return e.x=t.x*n,e.y=t.y*n,e.z=t.z*n,e}static f32(t,e){return e=e||new Float32Array(3),e[0]=t.x,e[1]=t.y,e[2]=t.z,e}},l=class o{static zero(t){return t=t||new Float32Array(16),t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,t}static identity(t){return t=o.zero(t),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}static setScalar(t,e){return e=e||new Float32Array(16),o.identity(e),e[0]=t.x,e[5]=t.y,e[10]=t.z,e}static lookAt(t,e,r=a.up,n){n=n||o.identity();let i=a.sub(e,t);a.normalize(i,i);let s=a.cross(r,i);a.normalize(s,s);let c=a.cross(i,s);return a.normalize(c,c),n[0]=s.x,n[1]=c.x,n[2]=i.x,n[4]=s.y,n[5]=c.y,n[6]=i.y,n[8]=s.z,n[9]=c.z,n[10]=i.z,n[12]=-a.dot(s,t),n[13]=-a.dot(c,t),n[14]=-a.dot(i,t),n}static perspectiveFovLH(t,e,r,n,i){i=i||o.identity();let s=1/Math.tan(t*.5);return i[0]=s/e,i[5]=s,i[10]=-n/(r-n),i[11]=1,i[14]=r*n/(r-n),i[15]=0,i}static rotate(t,e){return o.rotateX(t,e.x),o.rotateY(t,e.y),o.rotateZ(t,e.z),t}static rotateX(t,e){let r=H(e),n=Math.sin(r),i=Math.cos(r);return o.multiply(t,new Float32Array([1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1]),t),t}static rotateY(t,e){let r=H(e),n=Math.sin(r),i=Math.cos(r);return o.multiply(t,new Float32Array([i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1]),t)}static rotateZ(t,e){let r=H(e),n=Math.sin(r),i=Math.cos(r);return o.multiply(t,new Float32Array([i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1]),t)}static translation(t,e){return e=e||o.identity(),e[12]=t.x,e[13]=t.y,e[14]=t.z,e}static multiply(t,e,r){r=r||new Float32Array(16);let n=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],i=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],s=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],c=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15];return r[0]=n,r[1]=i,r[2]=s,r[3]=c,n=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],i=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],s=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],c=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],r[4]=n,r[5]=i,r[6]=s,r[7]=c,n=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],i=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],s=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],c=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],r[8]=n,r[9]=i,r[10]=s,r[11]=c,n=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],i=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],s=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],c=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],r[12]=n,r[13]=i,r[14]=s,r[15]=c,r}static invert(t,e){e=e||new Float32Array(16);let r=t[0],n=t[1],i=t[2],s=t[3],c=t[4],h=t[5],y=t[6],A=t[7],w=t[8],F=t[9],L=t[10],g=t[11],U=t[12],v=t[13],z=t[14],S=t[15],f=L*S-g*z,_=F*S-g*v,P=F*z-L*v,B=w*S-g*U,O=w*z-L*U,D=w*v-F*U,K=h*f-y*_+A*P,X=-(c*f-y*B+A*O),Z=c*_-h*B+A*D,J=-(c*P-h*O+y*D),m=1/(r*K+n*X+i*Z+s*J),Q=y*S-A*z,$=h*S-A*v,tt=h*z-y*v,et=c*S-A*U,rt=c*z-y*U,ot=c*v-h*U,nt=y*g-A*L,it=h*g-A*F,at=h*L-y*F,st=c*g-A*w,ct=c*L-y*w,ut=c*F-h*w;return e[0]=K*m,t[4]=X*m,e[8]=Z*m,t[12]=J*m,e[1]=-(n*f-i*_+s*P)*m,e[5]=(r*f-i*B+s*O)*m,e[9]=-(r*_-n*B+s*D)*m,e[13]=(r*P-n*O+i*D)*m,e[2]=(n*Q-i*$+s*tt)*m,e[6]=-(r*Q-i*et+s*rt)*m,e[10]=(r*$-n*et+s*ot)*m,e[14]=-(r*tt-n*rt+i*ot)*m,e[3]=-(n*nt-i*it+s*at)*m,e[7]=(r*nt-i*st+s*ct)*m,e[11]=-(r*it-n*st+s*ut)*m,e[15]=(r*at-n*ct+i*ut)*m,e}static copy(t,e){return t===e||(e=e||new Float32Array(16),e.set(t)),e}static transpose(t,e){if(e=e||new Float32Array(16),e===t){let f;return f=t[1],t[1]=t[4],t[4]=f,f=t[2],t[2]=t[8],t[8]=f,f=t[3],t[3]=t[12],t[12]=f,f=t[6],t[6]=t[9],t[9]=f,f=t[7],t[7]=t[13],t[13]=f,f=t[11],t[11]=t[14],t[14]=f,e}let r=t[0],n=t[1],i=t[2],s=t[3],c=t[4],h=t[5],y=t[6],A=t[7],w=t[8],F=t[9],L=t[10],g=t[11],U=t[12],v=t[13],z=t[14],S=t[15];return e[0]=r,e[1]=c,e[2]=w,e[3]=U,e[4]=n,e[5]=h,e[6]=F,e[7]=v,e[8]=i,e[9]=y,e[10]=L,e[11]=z,e[12]=s,e[13]=A,e[14]=g,e[15]=S,e}},V=class{static value(t=0,e=1){return Math.random()*(e-t)+t}};function H(o){return o*(Math.PI/180)}var x=class{needsUpdate=!0;worldMatrix=l.identity();viewMatrix=l.identity();position=a.zero;rotation=a.zero;scale=a.one;mesh;name;constructor(t,e,r){this.name=t,e&&this.setPosition(e),r&&this.setRotation(r)}get forward(){return a.transform(a.forward,l.rotate(l.identity(),this.rotation))}setMesh(t){return this.mesh=t,this}setPosition(t,e,r){if(this.needsUpdate=!0,t instanceof a)return a.copy(t,this.position),this;if(typeof e=="number"&&typeof r=="number")return this.position.x=t,this.position.y=e,this.position.z=r,this;throw new Error("Invalid arguments")}setRotation(t,e,r){if(this.needsUpdate=!0,t instanceof a)return a.copy(t,this.rotation),this;if(typeof e=="number"&&typeof r=="number")return this.rotation.x=t%360,this.rotation.y=e%360,this.rotation.z=r%360,this;throw new Error("Invalid arguments")}setScale(t,e,r){if(this.needsUpdate=!0,t instanceof a)return a.copy(t,this.scale),this;if(typeof e=="number"&&typeof r=="number")return this.scale.x=t,this.scale.y=e,this.scale.z=r,this;throw new Error("Invalid arguments")}rotate(t,e,r){if(this.needsUpdate=!0,t instanceof a)return a.add(this.rotation,t,this.rotation),this;if(typeof e=="number"&&typeof r=="number")return this.rotation.x=(this.rotation.x+t)%360,this.rotation.y=(this.rotation.y+e)%360,this.rotation.z=(this.rotation.z+r)%360,this;throw new Error("Invalid arguments")}translate(t,e,r){if(this.needsUpdate=!0,t instanceof a)return a.add(this.position,t,this.position),this;if(typeof e=="number"&&typeof r=="number")return this.position.x=this.position.x+t,this.position.y=this.position.y+e,this.position.z=this.position.z+r,this;throw new Error("Invalid arguments")}getWorldMatrix(){return this.needsUpdate&&(l.setScalar(this.scale,this.worldMatrix),l.rotate(this.worldMatrix,this.rotation),l.multiply(this.worldMatrix,l.translation(this.position),this.worldMatrix),this.needsUpdate=!1),this.worldMatrix}getViewMatrix(){return this.needsUpdate&&(l.lookAt(this.position,a.add(this.position,this.forward),void 0,this.viewMatrix),this.needsUpdate=!1),this.viewMatrix}};var R=class extends x{projectionUpdated=!0;projectionMatrix=l.identity();fov;near;far;constructor(t,e,r){super(t,e,r),this.fov=.9,this.near=.1,this.far=2e4,globalThis.addEventListener("resize",()=>this.projectionUpdated=!0)}get aspect(){return globalThis.innerWidth/globalThis.innerHeight}getProjectionMatrix(){return this.projectionUpdated&&(l.perspectiveFovLH(this.fov,this.aspect,this.near,this.far,this.projectionMatrix),this.projectionUpdated=!1),this.projectionMatrix}};var p=class{static createProgramInfo(t,e=he,r=ye){let n=bt(t,e,r),i=wt(t,n);return{program:n,uniformInfo:i,attributeInfo:{}}}static setUniforms(t,e){for(let[r,n]of Object.entries(e)){if(!(r in t.uniformInfo)){console.error("Invalid uniform: "+r);continue}t.uniformInfo[r].setter(n)}}static getContext(t){let e=t.getContext("webgl2");if(!e)throw new Error("Failed to get WebGL2 context of canvas");return e}static VAO(t,e,r){let n=t.createVertexArray();if(!n)throw new Error("Unable to create vao");return t.bindVertexArray(n),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,r.vertices,t.STATIC_DRAW),Y(t,e,"a_position",3,t.FLOAT,!1,3*4,0),t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,r.normals,t.STATIC_DRAW),Y(t,e,"a_normal",3,t.FLOAT,!1,3*4,0),r.uvs?.length&&(t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ARRAY_BUFFER,r.uvs,t.STATIC_DRAW),Y(t,e,"a_texCoord",2,t.FLOAT,!0,2*4,0)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer()),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r.triangles,t.STATIC_DRAW),n}};function Y(o,t,e,r,n,i,s,c){let h=o.getAttribLocation(t,e);o.vertexAttribPointer(h,r,n,i,s,c),o.enableVertexAttribArray(h)}function bt(o,t,e){let r=o.createProgram();if(!r)throw new Error("Unable to create Program");return lt(o,r,t,vt),lt(o,r,e,Ut),o.linkProgram(r),o.validateProgram(r),o.getProgramParameter(r,Lt)||console.error(`Program linking failed:

`,o.getProgramInfoLog(r)),o.getProgramParameter(r,gt)||console.error(`Program validation failed:

`,o.getProgramInfoLog(r)),o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.frontFace(o.CW),o.cullFace(o.BACK),o.useProgram(r),r}function lt(o,t,e,r){let n=o.createShader(r);if(!n)throw new Error("Unable to create Shader");if(o.shaderSource(n,e),o.compileShader(n),!o.getShaderParameter(n,Ft))throw new Error(`Unable to compile Shader.

`+o.getShaderInfoLog(n));return o.attachShader(t,n),n}function wt(o,t){let e={},r=o.getProgramParameter(t,o.ACTIVE_UNIFORMS);for(let n=0;n<r;n++){let i=o.getActiveUniform(t,n);if(!i)continue;let s=o.getUniformLocation(t,i.name);e[i.name]={location:o.getUniformLocation(t,i.name),setter:u[i.type].setter(o,s)}}return e}var Ft=35713,Lt=35714,gt=35715,Ut=35632,vt=35633,zt=5126,St=35664,Tt=35665,Vt=35666,Mt=5124,Rt=35667,Ct=35668,Gt=35669,It=35670,Wt=35671,Et=35672,dt=35673,_t=35674,Pt=35685,Bt=35686,Ot=35675,Dt=35687,jt=35688,kt=35676,Nt=35689,Ht=35690,Yt=5125,qt=36294,Kt=36295,Xt=36296,u={};u[zt]={type:Float32Array,size:4,setter:Zt,cols:1};u[St]={type:Float32Array,size:8,setter:Jt,cols:2};u[Tt]={type:Float32Array,size:12,setter:Qt,cols:3};u[Vt]={type:Float32Array,size:16,setter:$t,cols:4};u[Mt]={type:Int32Array,size:4,setter:ft,cols:1};u[Rt]={type:Int32Array,size:8,setter:mt,cols:2};u[Ct]={type:Int32Array,size:12,setter:ht,cols:3};u[Gt]={type:Int32Array,size:16,setter:yt,cols:4};u[Yt]={type:Uint32Array,size:4,setter:te,cols:1};u[qt]={type:Uint32Array,size:8,setter:ee,cols:2};u[Kt]={type:Uint32Array,size:12,setter:re,cols:3};u[Xt]={type:Uint32Array,size:16,setter:oe,cols:4};u[It]={type:Uint32Array,size:4,setter:ft,cols:1};u[Wt]={type:Uint32Array,size:8,setter:mt,cols:2};u[Et]={type:Uint32Array,size:12,setter:ht,cols:3};u[dt]={type:Uint32Array,size:16,setter:yt,cols:4};u[_t]={type:Float32Array,size:32,setter:ne,rows:2,cols:2};u[Ot]={type:Float32Array,size:48,setter:ie,rows:3,cols:3};u[kt]={type:Float32Array,size:64,setter:ae,rows:4,cols:4};u[Pt]={type:Float32Array,size:32,setter:se,rows:2,cols:3};u[Bt]={type:Float32Array,size:32,setter:ue,rows:2,cols:4};u[Dt]={type:Float32Array,size:48,setter:ce,rows:3,cols:2};u[jt]={type:Float32Array,size:48,setter:fe,rows:3,cols:4};u[Nt]={type:Float32Array,size:64,setter:le,rows:4,cols:2};u[Ht]={type:Float32Array,size:64,setter:me,rows:4,cols:3};function Zt(o,t){return function(e){o.uniform1fv(t,e)}}function Jt(o,t){return function(e){o.uniform2fv(t,e)}}function Qt(o,t){return function(e){o.uniform3fv(t,e)}}function $t(o,t){return function(e){o.uniform4fv(t,e)}}function ft(o,t){return function(e){o.uniform1iv(t,e)}}function mt(o,t){return function(e){o.uniform2iv(t,e)}}function ht(o,t){return function(e){o.uniform3iv(t,e)}}function yt(o,t){return function(e){o.uniform4iv(t,e)}}function te(o,t){return function(e){o.uniform1uiv(t,e)}}function ee(o,t){return function(e){o.uniform2uiv(t,e)}}function re(o,t){return function(e){o.uniform3uiv(t,e)}}function oe(o,t){return function(e){o.uniform4uiv(t,e)}}function ne(o,t){return function(e){o.uniformMatrix2fv(t,!1,e)}}function ie(o,t){return function(e){o.uniformMatrix3fv(t,!1,e)}}function ae(o,t){return function(e){o.uniformMatrix4fv(t,!1,e)}}function se(o,t){return function(e){o.uniformMatrix2x3fv(t,!1,e)}}function ce(o,t){return function(e){o.uniformMatrix3x2fv(t,!1,e)}}function ue(o,t){return function(e){o.uniformMatrix2x4fv(t,!1,e)}}function le(o,t){return function(e){o.uniformMatrix4x2fv(t,!1,e)}}function fe(o,t){return function(e){o.uniformMatrix3x4fv(t,!1,e)}}function me(o,t){return function(e){o.uniformMatrix4x3fv(t,!1,e)}}var he=`#version 300 es

    uniform mat4 u_world;
    uniform mat4 u_view;
    uniform mat4 u_proj;

    in vec3 a_position;
    in vec3 a_normal;

    out vec3 v_normal;

    void main() {
        // v_normal = a_normal;
        v_normal = mat3(u_world) * a_normal;
        gl_Position = u_proj * u_view * u_world * vec4(a_position, 1.0);
    }
`,ye=`#version 300 es
    precision mediump float;

    uniform vec4 u_color;

    in vec3 v_normal;

    out vec4 f_color;

    void main() {
        vec3 normal = normalize(v_normal);
        float light = dot(normal, vec3(0.5, 0.7, -1.0)) * 0.5 + 0.5;
        //f_color = vec4(normal, 1.0); 
        f_color = u_color;
        f_color.rgb *= light;
    }
`;var C=class{gl;canvas;programInfo;constructor(t){this.canvas=t,this.gl=p.getContext(t),this.programInfo=p.createProgramInfo(this.gl),this.gl.clearColor(.3,.6,.8,1),this.resizeCanvas(),globalThis.addEventListener("resize",()=>this.resizeCanvas)}render(t,e){this.gl.clear(this.gl.COLOR_BUFFER_BIT),p.setUniforms(this.programInfo,{u_view:e.getViewMatrix(),u_proj:e.getProjectionMatrix()});for(let r of t.objects)r.mesh&&(r.mesh.vao||(r.mesh.vao=p.VAO(this.gl,this.programInfo.program,r.mesh)),p.setUniforms(this.programInfo,{u_world:r.getWorldMatrix(),u_color:r.mesh.material.f32()}),this.gl.bindVertexArray(r.mesh.vao),this.gl.drawElements(this.gl.TRIANGLES,r.mesh.triangles.length,this.gl.UNSIGNED_SHORT,0))}resizeCanvas(t=1){this.gl.canvas.width=globalThis.innerWidth*t,this.gl.canvas.height=globalThis.innerHeight*t,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}};var M=class{r;g;b;constructor(t,e,r){this.r=t,this.g=e,this.b=r}static get red(){return new this(1,0,0)}static get green(){return new this(0,1,0)}static get blue(){return new this(0,0,1)}static get white(){return new this(1,1,1)}static get black(){return new this(0,0,0)}static get aqua(){return new this(.75,.85,.8)}};var b=class o{color;opacity=1;constructor(t){this.color=t}static get default(){return new o(new M(1,0,1))}static get random(){return new o(new M(V.value(),V.value(),V.value()))}f32(){return new Float32Array([this.color.r,this.color.g,this.color.b,this.opacity])}};var T=class o{vertices;normals;triangles;uvs;material=b.default;vao;constructor(t,e,r){this.vertices=t,this.normals=e,this.triangles=r}static Cube(){let t=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5]),e=new Float32Array([-1,-1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,-1,1,-1,1,1,1,-1,1,1,1,1]),r=new Uint16Array([0,1,3,0,3,2,2,3,7,2,7,6,6,7,5,6,5,4,4,5,1,4,1,0,1,5,7,1,7,3,4,0,2,4,2,6]);return new o(t,e,r)}static Pyramid(){let t=new Float32Array([0,.5,0,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5]),e=new Float32Array([0,1,0,-1,0,1,1,0,1,1,0,-1,-1,0,-1]),r=new Uint16Array([0,1,2,0,2,3,0,3,4,0,4,1,1,4,2,2,4,3]);return new o(t,e,r)}static Plane(){let t=new Float32Array([-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,.5]),e=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0]),r=new Uint16Array([0,1,2,2,1,3]);return new o(t,e,r)}};var G=class{objects=[];constructor(...t){for(let e of t)this.add(e)}add(t){this.objects.push(t)}};var I=class{movement;rotation;constructor(){this.movement=a.zero,this.rotation=a.zero,document.addEventListener("keydown",t=>this.onKey(t)),document.addEventListener("keyup",t=>this.onKey(t))}onKey(t){let e=t.type==="keydown";switch(t.key){case"w":case"W":this.movement.z=e?1:0;break;case"s":case"S":this.movement.z=e?-1:0;break;case"a":case"A":this.movement.x=e?-1:0;break;case"d":case"D":this.movement.x=e?1:0;break;case"Shift":this.movement.y=e?-1:0;break;case" ":this.movement.y=e?1:0;break;case"ArrowDown":this.rotation.x=e?1:0;break;case"ArrowUp":this.rotation.x=e?-1:0;break;case"ArrowLeft":this.rotation.y=e?-1:0;break;case"ArrowRight":this.rotation.y=e?1:0;break}}};var W=class{autoStart;startTime;oldTime;elapsedTime;running;constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}};var Ae=new C(document.querySelector("canvas")),j=new R("main").setPosition(0,2,-6),k=new x("cube").setMesh(T.Cube()),N=new x("pyramid",new a(-1,0,0)).setMesh(T.Pyramid()),xt=new x("floor").setMesh(T.Plane()).setScale(10,1,10);k.mesh.material=b.random;N.mesh.material=b.random;xt.mesh.material=b.random;var xe=new G(k,N,xt),E=new I,At=new W,d,q;function pt(){d=At.getDelta(),q=At.elapsedTime,k.rotate(0,90*d,0),N.rotate(0,90*-d,0),k.setPosition(1,Math.sin(2*q)+1.5,0),N.setPosition(-1,Math.cos(2*q)+1.5,0),pe(d),Ae.render(xe,j),requestAnimationFrame(pt)}requestAnimationFrame(pt);function pe(o){if(j.rotate(a.scale(E.rotation,d*80)),a.equals(E.movement,a.zero))return;let r=new a(E.movement.x,0,E.movement.z);a.normalize(r,r);let n=a.transform(r,l.rotate(l.identity(),j.rotation));n.y=0,a.normalize(n,n),n.y=E.movement.y,j.translate(a.scale(n,o*10))}
//# sourceMappingURL=index.js.map
